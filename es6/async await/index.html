<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<title></title>
	</head>
	<body>
		<script src="js/axios.js" type="text/javascript" charset="utf-8"></script>
		<script type="text/javascript">
			function getCode() {
				return axios.get('json/code.json');
			}

			function getlist(params) {
				return axios.get('json/list.json', {
					params
				})
			}

			async function getResult() {  //async是要和await配合使用的，第一个请求
				let code = await getCode();
				console.log("我是getResult函数")
				try {
					let code = await getCode();
					console.log(code.data.code);
					if (code.data.code == 0) {
						var params = {
							code: code.data.code
						}
						let list = await getlist(params);
						console.log(list.data.list);
					}
				} catch (err) {
					console.log(err);
				}
			}
			getResult();
		</script>
	</body>
</html>
